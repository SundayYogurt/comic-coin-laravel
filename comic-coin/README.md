# Comic Coin (Laravel 10)

???????????????????? (????????????????) ????????????? ?????? ??????????? Comic Coin

1) ?????????????
- ????????????????????????? ?????/???????????????? (Chapters) ??????????? (Pages)
- ?????????? (Coins) ???????????????????????????? ????????????????????? (??????????????)
- ??????????????? (Hero/Carousel) ???????????????????
- ?????????????????? ???????????????? (Rate limit + Cooldown + Duplicate guard + Honeypot)
- ?????? Tailwind + DaisyUI (????????????? `text-base-content` ????????????????????????)

2) ??????????? (????)
- Comics: ????? ?????? ?????/?????/?? (??????) Favorite ???
- Chapters: ?????/?????/?? ????????, ????????????????????????????????? (validation + unique index)
- Pages: ??????????????, ????????????? `page_number`, ??/?????????
- Purchases: ??????????????? Coins (????????????? 0 ??????????)
- Banners: ???????????????????? Comics (Hero Carousel)
- Comments: ?????/?? (???????/??????), ???????????????????
- Auth: Laravel Breeze, ????? admin/translator/user

3) ????????????????????????
- Laravel 10, PHP 8.1+
- Node.js 18+, npm
- Composer
- Database ????????: SQLite (?????? MySQL ???)

4) ????????????????????????? (?????)
- chapters: `id`, `comic_id`, `title`, `description`, `chapter_number`, `price`, timestamps
  - Unique index: (`comic_id`, `chapter_number`) ????????????
- pages: `id`, `chapter_id`, `image_path`, `page_number`, timestamps
- comments: `id`, `chapter_id`, `user_id`, `content`, timestamps
- comics, users, transactions (?????????????)

5) ?????????????? (????????)
- 5.1 ??????????????
  - `composer install`
  - `npm install`
- 5.2 ??????????
  - ????????????: `copy .env.example .env` (Windows) ???? `cp .env.example .env`
  - ?????????: `php artisan key:generate`
- 5.3 ???????????????? SQLite (??????????? dev)
  - ???? `.env`:
    - `DB_CONNECTION=sqlite`
    - `DB_DATABASE=C:\laravel\comic-coin\database\database.sqlite`
  - ???????????????: ??????????????????????????????????????
- 5.4 ??????????
  - `php artisan migrate`
- 5.5 ????????????????
  - `php artisan storage:link` (?????? `public/storage/...`)
- 5.6 ????????? Frontend
  - Dev: `npm run dev`
  - Prod/????: `npm run build`
- 5.7 ??????????????
  - `php artisan serve --port=8000`

6) ????????????? (?????)
- ???????: `storage/app/public/covers/` ? `public/storage/covers/...`
- ????: `storage/app/public/chapter_pages/` ? `public/storage/chapter_pages/...`
- ????????: `storage/app/public/banners/` ? `public/storage/banners/...`
- ???? `php artisan storage:link` ??????????

7) ?????????????????
- ??????: ?????? Comics/Chapters/Pages/Banners/Wallet, ??????????
- ????????????: ???????????????, ???????????????????, ??????????? (???????????)
- ?????? (translator): ?????????????????????????? (???? ???????)

8) ????????????????? (????????)
- 8.1 Comics
  - ?????/???????/?????????
  - ??????: ?????/?????/??
- 8.2 Chapters
  - ?????/????? title/description/price/chapter_number
  - ?????????????????????????: validation + unique index DB
  - ??????? 0 (???):
    - ???????????????????????? (??????????? list ??????? show)
- 8.3 Pages
  - ??????????????, ????????? `public` disk, ????? `page_number`
  - ???????????? (??????????????????????????????)
  - ??????????/????????? (???????? storage ????)
- 8.4 Purchases
  - ???????? Coins (?????? admin ??????????)
- 8.5 Banners
  - ????????????? Banners ? ???? Carousel ?????? Comics (????? 1280x400px)
- 8.6 Comments (???????????)
  - ?????/?? (?????????????????)
  - ???????:
    - Rate limit: 5 ????????/????/?????? (`throttle:comments`)
    - Cooldown: ?????????????????????? 10 ??????/???/??????
    - Duplicate: ???????????????????????? 2 ????/???/??????
    - Honeypot: ???????? `hp` ???????? (?????????????)

9) ??????????/?????????
- ??? `text-base-content` ??? `text-gray-*` ?????????????????
- ??? `text-base-content/80` ???? `/70` ????????????????
- Dropdown/????/????????????? `bg-base-*`, `border-base-*`, `hover:bg-base-*`
- Navbar ???????? `sticky top-0 z-50` ???????????????????????

10) ???????? ngrok (????????????????)
- 10.1 ??? Laravel: `php artisan serve --port=8000`
- 10.2 ??? ngrok: `ngrok http --host-header=rewrite 8000`
- 10.3 ??????? `.env` ??????????
  - `APP_URL=https://<????????>.ngrok-free.app`
  - ?????????????: `SESSION_SECURE_COOKIE=true`
  - ?????? Sanctum/SPA: `SANCTUM_STATEFUL_DOMAINS=<????????>.ngrok-free.app`
- 10.4 Trust Proxy (?????)
  - `app/Http/Middleware/TrustProxies.php` ? `protected $proxies = '*';`
- 10.5 ?????????????????????: `php artisan config:clear && php artisan route:clear && php artisan view:clear`
- 10.6 ???????? Vite
  - ?????? `npm run dev` ????????? ngrok ?????? assets ??? `localhost:5173` ?????? ? ??? `npm run build` ???

11) ?????? Artisan/NPM ?????????? (Cheat Sheet)
- ??????????/???????/??????: `php artisan view:clear && php artisan route:clear && php artisan config:clear`
- ??????: `php artisan migrate` / ?????? dev: `php artisan migrate:fresh`
- ?????????? storage: `php artisan storage:link`
- Build assets: `npm run build` / Dev: `npm run dev`

12) ??????????? (Troubleshooting)
- 12.1 ?????????? comments
  - ??? `php artisan migrate` (?????? SQLite ?????????? `DB_DATABASE` ?????????????)
- 12.2 ??? `/storage/...` 404
  - ??? `php artisan storage:link` ?????????????????????
- 12.3 ?????????/???????? https ?? ngrok
  - ???? `APP_URL` ???? `https://...ngrok-free.app`
  - ???? `protected $proxies='*'` ??? `SESSION_SECURE_COOKIE=true`
  - ?????????????
- 12.4 ????????????????? migrate unique ???????
  - ?????????????????????? `chapters` ??????? migrate ????????
- 12.5 ????/???????????????????
  - ??? `text-base-content` ??? `bg-base-*` ?????????????? 9

13) ??????????????? MySQL (???????? .env)
- `DB_CONNECTION=mysql`
- `DB_HOST=127.0.0.1`
- `DB_PORT=3306`
- `DB_DATABASE=comic_coin_db`
- `DB_USERNAME=root`
- `DB_PASSWORD=`
- ?????????? `php artisan migrate`

14) ?????????????????????????
- ??????????? `.env` ??????????
- ??????? HTTPS ?????????????????????????
- ??????????????/????????????????????????

15) ???????????????????? (???????????????????????????????)
- Chapters: ???????????????? (validation + unique index), ????????????????
- Comments: ??????????/?????/???????????? + ??????????????????? + throttle 5/????
- Pages: ????????????? `public` disk, ?????/???????????, ????????????????????????
- UI: ?????????????/??????????? DaisyUI ???????????????, Navbar sticky
- Banners: ?????????? Comics (Carousel), ???????????? 1280x400

16) ?????-????????????????????
- ????????/????????????????????????????/??????? error
- ??????????????????????????????????????????????????????????
